#pragma once
#include "../MAIN/GAME_BASE.h"
#include<time.h>
#include<conio.h>
#include<ctype.h>
#include<string>
#include<stdio.h>
#include<iostream>
#include<chrono>
#include<thread>
#include<random>
#include<map>
#include"../../libOne/inc/input.h"
#define Qnumber 100

namespace GAME12
{
    class GAME :
        public GAME_BASE
    {
    public:
        GAME(class MAIN* main) :GAME_BASE(main) {};
        ~GAME() {};
        int create();
        void proc();
        void destroy();
    private:
        enum STATE { TITLE, INIT, WAIT, PLAY1, PLAY2, PLAY3, PLAY4, OVER, END };
        STATE State = TITLE;
        void title();
        void init();
        void wait();
        void play1();
        void play2();
        void play3();
        void play4();
        void over();
        void end();
        void count1();
        void count2();
        void count3();
        void count4();
        void express();
        void recordInputToKana();
        void gmain();
        void dec(int num, int wnum);
        void draw1(int snum);
        void draw2(int snum);
        void draw3(int snum);
        void draw4(int snum);
        void randomnum();
        INPUT_CODE gettriggerkeycode();

        int miss, num[Qnumber], wnum, rnum, number, flag, fflag, gend, lend, set, stop, count;
        std::string ch;
        //const char* ch[100][100];
        size_t sum;
        size_t str;
        size_t len;
        float curtime;
        std::string currentInput; // ݂͕̓
        const char* pretwoWard[Qnumber][3] = {
            {"J","Ă˂"},
            {"jS",""},
            {"","Ƃ"},
            {"i","傯"},
            {"","Ƃ"},
            {"ӏ]","イ"},
            {"ԗ",""},
            {"ՎU","񂳂"},
            {"",""},
            {"T",""},
            {"J","Ă˂"},
            {"jS",""},
            {"","Ƃ"},
            {"i","傯"},
            {"","Ƃ"},
            {"ӏ]","イ"},
            {"ԗ",""},
            {"ՎU","񂳂"},
            {"",""},
            {"T",""},
            {"",""},
            {"M","Ƃ"},
            {"ᖡ",""},
            {"Ic","Ȃ"},
            {"","₨"},
            {"֊s","񂩂"},
            {"F","񂵂傭"},
            {"",""},
            {"","傤"},
            {"]C","悢"},
            {"H",""},
            {"","܂Ȃ"},
            {"Sp","ς"},
            {"y","Ђ"},
            {"f",""},
            {"",""},
            {"","イ"},
            {"c","Ȃ"},
            {"ʕ","Ԃ"},
            {"","܂"},
            {"ޒ","Ă"},
            {"a","݂"},
            {"΋","ւ񂭂"},
            {"X","イ"},
            {"h","͂΂"},
            {"","傤"},
            {"","Ƃ"},
            {"芼","Ă"},
            {"_",""},
            {"N","傤˂"},
            {"⍲","ق"},
            {"",""},
            {"",""},
            {"r","񂻂"},
            {"ގ",""},
            {"g","킭"},
            {"Љ",""},
            {"{","傤ق"},
            {"",""},
            {"J","ق"},
            {"~","ڂ񂳂"},
            {"","܂傤"},
            {"x","䂦"},
            {"v","񂻂"},
            {"\",""},
            {"",""},
            {"V","قイ"},
            {"Ѝ",""},
            {"","񂶂傤"},
            {"}","΂"},
            {"","イ͂"},
            {"Ǐ","傤"},
            {"","ւǂ"},
            {"","񂢂"},
            {"I",""},
            {"җ","ꂫ"},
            {"g","񂵂"},
            {"{",""},
            {"o",""},
            {"","Ղ"},
            {"","ւ"},
            {"쒀",""},
            {"e","͂"},
            {"",""},
            {"a",""},
            {"",""},
            {"l","キ"},
            {"","񂵂傤"},
            {"s",""},
            {"j","Â"},
            {"",""},
            {"`","ł"},
            {"","߂"},
            {"l_","ЂƂ"},
            {"","Ƃ͂"},
            {"O","ĂĂ"},
            {"@",""},
            {"r","傤"},
            {"a","イ"},
            {"ȐS",""},
        };

        const char* twoWard[Qnumber][2] = {
            {"_","炭̂"},
            {"b","ق"},
            {"",""},
            {"r","񂾂"},
            {"M","ł"},
            {"p","Ђς"},
            {"","傤"},
            {"m","Ă"},
            {"k",""},
            {"q","Ⴍ"},
            {"","߂"},
            {"Q",""},
            {"R","イ"},
            {"y","ǂ傤"},
            {"","񂩂"},
            {"X","イ"},
            {"I","Ă"},
            {"","񂿂"},
            {"",""},
            {"","Ⴍ"},
            {"yd","ǂ"},
            {"DQ","イ"},
            {"",""},
            {"","Ђ߂"},
            {"Еz","͂"},
            {"d","傤"},
            {"ᒌ","΂"},
            {"Ӑ",""},
            {"","傤₭"},
            {"B","܂"},
            {"c","т傤"},
            {"ޏk","キ"},
            {"v",""},
            {"","邵"},
            {"C",""},
            {"A","񂱂"},
            {"","ׂ"},
            {"ғ","ǂ"},
            {"","Ă"},
            {"֎q",""},
            {"","₭"},
            {"\p","傤悤"},
            {"","ւ"},
            {"뜜",""},
            {"","񂱂"},
            {"A",""},
            {"","Ă"},
            {"Y","Ԃ"},
            {"a",""},
            {"M","ł"},
            {"ؕ|",""},
            {"z","傤ق"},
            {"L","т傤"},
            {"T",""},
            {"",""},
            {"d","悤"},
            {"",""},
            {"煘r",""},
            {"ߍ",""},
            {"e","킫΂"},
            {"","Ă"},
            {"i","񂿂傭"},
            {"",""},
            {"S",""},
            {"","݂"},
            {"e","񂹂"},
            {"H",""},
            {"ߑ","ق"},
            {"",""},
            {"E","ǂ"},
            {"ėp","͂悤"},
            {"u","ڂς"},
            {"","Ƃ"},
            {"f",""},
            {"fv","炿"},
            {"","ւ"},
            {"",""},
            {"o",""},
            {"R",""},
            {"","߂傤"},
            {"ߖ",""},
            {"dG","킢"},
            {"M","낤"},
            {"͍",""},
            {"ď","낤傤"},
            {"R[","낭"},
            {"","΂"},
            {"O","˂"},
            {"{",""},
            {"Ռ",""},
            {"T",""},
            {"EP","イ"},
            {"ko","イ"},
            {"^",""},
            {"aH",""},
            {"",""},
            {"A]","ڂ"},
            {"","Ȃ炵"},
            {"،h",""},
            {"b",""},
        };

        const char* preoneWard[Qnumber][2] = {
            {"","Ȃ"},
            {"p","ł"},
            {"J","قЂ"},
            {"i",""},
            {"ؑ","ڂ"},
            {"d","₦ނ"},
            {"Ǘ","傤"},
            {"X","イ"},
            {"L","Ђ"},
            {"t","߂"},
            {"Ck","Ă"},
            {"w","Ђ"},
            {"m","񂹂"},
            {"͐",""},
            {"鍳","₵"},
            {"","傤"},
            {"O",""},
            {"",""},
            {"","Ԃ"},
            {"^n","イ"},
            {"L","₽"},
            {"K","䂤傤"},
            {"`[",""},
            {"@","ǂ"},
            {"oH","񂩂"},
            {"","ӂ񂲂"},
            {"","ׂ"},
            {"","Ƃ"},
            {"",""},
            {"R",""},
            {"WS","イイ"},
            {"",""},
            {"_c","т傤"},
            {"","点"},
            {"ܔM","Ⴍ˂"},
            {"ώ",""},
            {"⒆","イ"},
            {"_","傤"},
            {"","ケ"},
            {"F","ق"},
            {"V","낤"},
            {"[","񂽂"},
            {"",""},
            {"","߂"},
            {"XR","񂺂"},
            {"_",""},
            {"ܔv","傤͂"},
            {"",""},
            {"","ׂ"},
            {"`",""},
            {"ޕ","䂤Ԃ"},
            {"D","䂤"},
            {"s","ӂ"},
            {"",""},
            {"s","ڂ"},
            {"","ӂ񂽂"},
            {"˖","Ƃ"},
            {"Is",""},
            {"^",""},
            {"S","ĂƂ"},
            {"n",""},
            {"","傤Ⴍ"},
            {"}","イ"},
            {"","傤"},
            {"ӗW","ւ䂤"},
            {"",""},
            {"M",""},
            {"_c","т傤"},
            {"B","傤"},
            {"X","̂イ"},
            {"v",""},
            {"\y",""},
            {"q","Ƃ΂"},
            {"","Ƃ"},
            {"J",""},
            {"n","傤"},
            {"","ւ"},
            {"","񂻂"},
            {"",""},
            {"˖n","ڂ"},
            {"U","قĂ"},
            {"",""},
            {"݌","Ђ"},
            {"Ĕ",""},
            {"","傤"},
            {"","ӂ"},
            {"Ǝ","Ⴍ"},
            {"f",""},
            {"p","ザ"},
            {"MN","Ђۂ"},
            {"","񂻂"},
            {"җ",""},
            {"[",""},
            {"x","񂹂"},
            {"WW","񂳂"},
            {"","т"},
            {"",""},
            {"ϒK",""},
            {"C",""},
            {"","ӂ"},
        };
        const char* oneWard[Qnumber][2] = {
                {"","ꂢ"},
                {"GF","Ⴍ"},
                {"b","悤"},
                {"","񂢂"},
                {"ӗ",""},
                {"紑","炻"},
                {"芑R",""},
                {"Ԍ","񂰂"},
                {"瘾","񂶂"},
                {"NW","イイ"},
                {"@",""},
                {"n",""},
                {"K",""},
                {"wQ","イイ"},
                {"R",""},
                {"I","Ԃ"},
                {"","񂵂"},
                {"","ׂ"},
                {"e",""},
                {"M","ׂ"},
                {"","傤"},
                {"d",""},
                {"","Ԃ"},
                {"o","傤"},
                {"ᷟ","񂻂"},
                {"×V","䂤"},
                {"c","ǂ񂻂"},
                {"懌","䂰"},
                {"q","͂₵"},
                {"s","悤"},
                {"H","݂傤΂"},
                {"D","ق"},
                {"_a","񂹂"},
                {"","傤"},
                {"ѓH","Ă"},
                {"",""},
                {"ƞ","񂵂傤"},
                {"M","傤"},
                {"Sq",""},
                {"]S","񂵂"},
                {"",""},
                {"pp","ׂׂ"},
                {"","傤"},
                {"ԕ","ׂׂ"},
                {"M","イイ"},
                {"|F","͂Ȃ"},
                {"I","񂩂"},
                {"ʑ","񂻂"},
                {"a","ꂫ"},
                {"h",""},
                {"g",""},
                {"HX","˂"},
                {"","イׂ"},
                {"ّ","Ƃ񂻂"},
                {"I","ꂫ"},
                {"_","т"},
                {"","񂵂傤"},
                {"D","イイ"},
                {"ۚ","ǂ񂺂"},
                {"X","傤"},
                {"","񂹂"},
                {"s","悤"},
                {"","Ƃ"},
                {"ER","񂺂"},
                {"s","ׂ"},
                {"{",""},
                {"{","悤"},
                {"w",""},
                {"W`",""},
                {"","ւ񂽂"},
                {"mZ",""},
                {"PO",""},
                {"r",""},
                {"o","񂠂"},
                {"~","イ"},
                {"","イ"},
                {"ߚY","ꂢ"},
                {"qi","񂩂"},
                {"J","ׂ"},
                {"邖","傤߂"},
                {"z","񂻂"},
                {"Ó","Ƃǂ"},
                {"","񂿂イ"},
                {"剌",""},
                {"ΑR","񂺂"},
                {"Zr","ڂ"},
                {"J","͂"},
                {"","Ƃ"},
                {"",""},
                {"p@","ׂق"},
                {"`","񂺂"},
                {"p","񂩂"},
                {"nd","傤"},
                {"","΂񂱂"},
                {"r","ڂ"},
                {"G",""},
                {"","傤"},
                {"W","񂵂"},
                {"","Ƃ"},
                {"c","Ƃׂ"},
        };
    };
}